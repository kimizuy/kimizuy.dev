---
title: Stylelint v15 ã§ stylistic rules ãŒéæ¨å¥¨ã«ãªã£ãŸã®ã§å¯¾å¿œã™ã‚‹
description: stylelint-prettier ã‚’ä½¿ã†
publishedAt: 2023-10-28
tags: [tips, css]
---

export { default as cover } from "./cover.png";

## ã¯ã˜ã‚ã«

[Stylelint](https://stylelint.io/) ã‚’ v15 ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸã¨ã“ã‚ CSS ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®æ”¹è¡Œã«å¯¾ã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒåŠ¹ã‹ãªããªã£ã¦ãŠã‚Šã€èª¿ã¹ã¦ã¿ã‚‹ã¨ v15 ã‹ã‚‰ CSS ã«é–¢ä¿‚ã—ãªã„ stylistic rules (æ”¹è¡Œã‚„ç©ºç™½ãªã©ã®ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ) ãŒéæ¨å¥¨ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚

Stylelint ã®é–‹ç™ºå½“åˆã¯ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæˆç†Ÿã—ã¦ã„ãªã‹ã£ãŸãŸã‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ«ãƒ¼ãƒ«ã«ã¤ã„ã¦ã‚‚ Stylelint ãŒæ‹…ã£ã¦ã„ã¾ã—ãŸãŒã€ä»Šã§ã¯ [Prettier](https://prettier.io/) ãªã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå……åˆ†ã«ç™ºé”ã—ãŸãŸã‚ã€Stylelint ã¯ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ«ãƒ¼ãƒ«ã‚’å»ƒæ­¢ã—ãŸã‚ˆã†ã§ã™ã€‚

[Migrating to 15.0.0 - Deprecated stylistic rules](https://stylelint.io/migration-guide/to-15/#deprecated-stylistic-rules)

> When we created these rules, pretty printers (like Prettier) didn't exist. They now offer a better way to consistently format code, especially whitespace. Linters and pretty printers are complementary tools that work together to help you write consistent and error-free code.

[stylelint-stylistic](https://github.com/elirasza/stylelint-stylistic) ãªã©ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã£ã¦ stylistic rules ã‚‚ç¶­æŒå¯èƒ½ã§ã™ã€‚

ãŸã ã€ä»Šå›ã¯ç‰¹ã«è¦æ¨¡ã®å¤§ããªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ãªãå¤‰æ›´å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå°‘ãªã„ã®ã§ã€Prettier ã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«ç§»è¡Œã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

## æ–¹æ³•

stylelint ã‚’ä»‹ã—ã¦ prettier ã‚’å®Ÿè¡Œã§ãã‚‹ [stylelint-prettier](https://github.com/prettier/stylelint-prettier) ã‚’ä½¿ã„ã¾ã™ã€‚

```bash
npm install --save-dev stylelint-prettier prettier
```

```js:stylelint.config.js
module.exports = {
  extends: [
    "stylelint-config-standard",
    "stylelint-config-recess-order",
    "stylelint-prettier/recommended", // â† è¿½åŠ 
  ],
  rules: {
    "font-family-no-missing-generic-family-keyword": [
      true,
      {
        ignoreFontFamilies: "Menlo",
      },
    ],
    "selector-class-pattern": "^[a-z]|^[a-z][a-zA-Z0-9]+$",
    "comment-empty-line-before": [
      "always",
      {
        except: ["first-nested"],
        ignore: ["after-comment"],
      },
    ],
  },
};
```

ã“ã‚Œã§è¨­å®šã¯å®Œäº†ã§ã™ã€‚`plugins` ã«è¿½åŠ ã—ã¦ãƒ«ãƒ¼ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ«ãƒ¼ãƒ«ã‚’ä½¿ã†ã®ã§ã‚ã‚Œã° `extends` ã«è¿½åŠ ã™ã‚‹ã ã‘ã§ OK ã§ã™ã€‚

Stylelint ã‚’å®Ÿè¡Œã—æ–°ã—ã„è¨­å®šã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ç›´ã—ã¾ã™ã€‚

```bash
npm run stylelint --fix **/*.css
```

### å•é¡Œç™ºç”Ÿ

ä¸€ç®‡æ‰€ã ã‘ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®å•é¡ŒãŒç™ºç”Ÿã—ç›´ã›ãªããªã‚Šã¾ã—ãŸğŸ˜… å¹¸ã„ï¼ˆï¼Ÿï¼‰ã€ã‚‚ã¨ã‚‚ã¨ä¸è¦ãªã‚¹ã‚¿ã‚¤ãƒ«ã ã£ãŸã‚å‰Šé™¤ã™ã‚‹ã“ã¨ã§å¯¾å¿œã—ã¾ã—ãŸã€‚

![incident](./incident.png)

ã™ã§ã«ã‚¤ã‚·ãƒ¥ãƒ¼ã¨ã—ã¦ä¸ŠãŒã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

[I've this issue 188:3 âœ– Insert "Â·Â·" prettier/prettier with --fix flag, but no error without --fix flag](https://github.com/prettier/stylelint-prettier/issues/242)

## ãŠã‚ã‚Šã«

ã“ã‚Œã¾ã§ã¯ `stylelint-config-prettier` ã‚’ä½¿ã£ã¦ Prettier ã¨ã®ç«¶åˆã‚’æ‰“ã¡æ¶ˆã™å½¢ã§ã—ãŸãŒã€Stylelint ãŒ stylistic rules ã‚’å»ƒæ­¢ã™ã‚‹ã“ã¨ã§ Prettier ã¨ã®è²¬å‹™ãŒæ˜ç¢ºã«ãªã‚Šã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚Šã¾ã—ãŸã€‚

## å‚è€ƒ

- [Migrating to 15.0.0](https://stylelint.io/migration-guide/to-15/#deprecated-stylistic-rules)
- [ï½¢Stylelintï½£ï½¢Prettierï½£ã‚’ä½¿ã£ã¦ã‚³ãƒ¼ãƒ‰ã®å“è³ªã‚’é«˜ã‚ã‚‹ã€2023å¹´ç‰ˆã€‘](https://okalog.info/stylelint/)
